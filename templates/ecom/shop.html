
{% load static %}

{% if user.is_authenticated %}
  {% include 'ecom/customer_navbar.html' %}
{% else %}
  {% include 'ecom/navbar.html' %}
{% endif %}

{% block content %}
<style media="screen">
    body,
html {
  height: 100%;
}

.d-flex {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.align-center {
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
}

.flex-centerY-centerX {
  justify-content: center;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
}

body {
  background-color: white;
  overflow-x: hidden;
}

.page-wrapper {
  height: 100%;
  display: table;
}

.page-wrapper .page-inner {
  display: table-cell;
  vertical-align: middle;
}

.el-wrapper {
  width: 360px;
  padding: 15px;
  margin: 15px auto;
  background-color: #fff;
  border-radius: 0px;
  box-shadow: 2px 2px 5px #9b9b9b;
}

@media (max-width: 991px) {
  .el-wrapper {
    width: 345px;
  }
}

@media (max-width: 767px) {
  .el-wrapper {
    width: 290px;
    margin: 30px auto;
  }
}

.el-wrapper:hover .h-bg {
  left: 0px;
}

.el-wrapper:hover .price {
  left: 20px;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  -o-transform: translateY(-50%);
  transform: translateY(-50%);
  color: #f3f3f3;
}

.el-wrapper:hover .add-to-cart {
  left: 50%;
}

.el-wrapper:hover .a-size {
  -webkit-transition-delay: 300ms;
  -o-transition-delay: 300ms;
  transition-delay: 300ms;
  bottom: 50px;
  opacity: 1;
}

.el-wrapper .box-down {
  width: 100%;
  height: 60px;
  position: relative;
  overflow: hidden;
}

.el-wrapper .box-up {
  width: 100%;
  height: 300px;
  position: relative;
  overflow: hidden;
  text-align: center;
}

.el-wrapper .img {
  padding: 20px 0;
  -webkit-transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  -moz-transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  -o-transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  -webkit-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -moz-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -o-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
}

.h-bg {
  -webkit-transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  -moz-transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  -o-transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  transition: all 800ms cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  -webkit-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -moz-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -o-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  width: 660px;
  height: 100%;
  background-color: #96b3ef;
  position: absolute;
  left: -659px;
}

.h-bg .h-bg-inner {
  width: 50%;
  height: 100%;
  background-color: #96b3ef;
}

.info-inner {
  -webkit-transition: all 400ms cubic-bezier(0, 0, 0.18, 1);
  -moz-transition: all 400ms cubic-bezier(0, 0, 0.18, 1);
  -o-transition: all 400ms cubic-bezier(0, 0, 0.18, 1);
  transition: all 400ms cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  -webkit-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -moz-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -o-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  position: absolute;
  width: 100%;
  bottom: 10px;
}

.info-inner .p-name,
.info-inner .p-company {
  display: block;
}

.info-inner .p-name {
  font-family: 'PT Sans', sans-serif;
  font-size: 18px;
  color: #252525;
}

.info-inner .p-company {
  font-family: 'Lato', sans-serif;
  font-size: 16px;
  /* text-transform: uppercase; */
  color: #fbfbfb;
}

.a-size .size {
  color: #252525;
}

.cart {
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  /* font-family: 'Lato', sans-serif; */
  font-weight: 700;
}

.cart .price {
  -webkit-transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  -moz-transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  -o-transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  -webkit-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -moz-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -o-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  -webkit-transition-delay: 100ms;
  -o-transition-delay: 100ms;
  transition-delay: 100ms;
  display: block;
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  font-size: 16px;
  color: #252525;
}

.cart .add-to-cart {
  -webkit-transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  -moz-transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  -o-transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  transition: all 600ms cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  -webkit-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -moz-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  -o-transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  transition-timing-function: cubic-bezier(0, 0, 0.18, 1);
  /* ease-out */
  -webkit-transition-delay: 100ms;
  -o-transition-delay: 100ms;
  transition-delay: 100ms;
  display: block;
  position: absolute;
  top: 50%;
  left: 110%;
  -webkit-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  -o-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}

.cart .add-to-cart .txt {
  font-size: 12px;
  color: #fff;
  letter-spacing: 0.045em;
  text-transform: uppercase;
  white-space: nowrap;
}
* {
  box-sizing: border-box;
}

/* Create three equal columns that floats next to each other */
.column {
  float: left;
  width: 33.33%;
  padding: 10px;
  height: 300px; /* Should be removed. Only for demonstration */
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Responsive layout - makes the three columns stack on top of each other instead of next to each other */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
  }
}

/* html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  font-family: "Helvetica", sans-serif;
} */

img {
  max-width: 100%;
}

.filter-container {
    text-align: right;
    margin-bottom: 20px;
    margin-top: 20px;
    margin-right: 20px;
  }

  .filter-container select {
    margin: 5px;
    padding: 8px;
    font-size: 16px;
  }

  .filter-container button {
    padding: 8px 12px;
    font-size: 16px;
  }



  </style>


  {%if products%}
  
  <!-- <br> -->
  
  <div class="filter-container">
  <form method="get" action="/shop/">
    <!-- Dropdown for Brand Names -->
   <i class="fa-solid fa-filter fa-2x" style="color: #01060e;"></i>

    <select name="brand" onchange="this.form.submit()">
      <option value="">-- Select Brand --</option>
      <option value="Nike" {% if request.GET.brand == 'Nike' %}selected{% endif %}>Nike</option>
      <option value="Louis Vuitton" {% if request.GET.brand == 'Louis Vuitton' %}selected{% endif %}>Louis Vuitton</option>
      <option value="New Balance" {% if request.GET.brand == 'New Balance' %}selected{% endif %}>New Balance</option>
      <option value="Dunk" {% if request.GET.brand == 'Dunk' %}selected{% endif %}>Dunk</option>
      <option value="Jordan" {% if request.GET.brand == 'Jordan' %}selected{% endif %}>Jordan</option>
      <option value="Yeezy" {% if request.GET.brand == 'Yeezy' %}selected{% endif %}>Yeezy</option>
    </select>

    <!-- Sorting Dropdown -->
    <select name="sort_by" onchange="this.form.submit()">
      <option value="">-- Select Price --</option>
      <option value="price" {% if request.GET.sort_by == 'price' %}selected{% endif %}>Price: Low to High</option>
      <option value="-price" {% if request.GET.sort_by == '-price' %}selected{% endif %}>Price: High to Low</option>
    </select>
  </form>
</div>

  <!-- products data start -->
  <div class="row">

      {% for p in products %}
      <!-- card1 -->
      <div class="column">
      <div class="container page-wrapper" style="width: 450px;">
        <div class="page-inner">
          <div class="row">
            <div class="el-wrapper">
              <div class="box-up">
                <a href="{% url 'product-detail' p.id %}">
                  <img class="img" src="{{p.product_image.url}}" alt="product pic" height="300px" width="300px">
                </a>
                <div class="img-info">
                  <div class="info-inner">
                    <span style="background-color:#3e454c; color:#fbfbfb;" class="p-company">{{ p.name }}
                  </span>
                  </div>
                  <div class="a-size">{{p.description}}</div>
                </div>
              </div>

              <div class="box-down">
                <div class="h-bg">
                  <div class="h-bg-inner"></div>
                </div>

                <a class="cart" href="{% url 'add-to-cart' p.id  %}?next_page={{ request.path }}">
                  <span class="price">â‚¹{{p.price}}</span>
                  <span class="add-to-cart">
                    <span class="txt"><i class="fa fa-shopping-cart"></i> Add To Cart</span>
                  </span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
<!-- card1 end -->
{% if forloop.counter|divisibleby:"3" %}
    </div>
    <div class="row">
          <br><br><br><br><br>
{% endif %}

  {% endfor %}
</div>
<!-- products data end -->


{%else%}
<div class="filter-container">
  <form method="get" action="/shop/">
    <!-- Dropdown for Brand Names -->
   <i class="fa-solid fa-filter fa-2x" style="color: #01060e;"></i>

    <select name="brand" onchange="this.form.submit()">
      <option value="">-- Select Brand --</option>
      <option value="Nike" {% if request.GET.brand == 'Nike' %}selected{% endif %}>Nike</option>
      <option value="Louis Vuitton" {% if request.GET.brand == 'Louis Vuitton' %}selected{% endif %}>Louis Vuitton</option>
      <option value="New Balance" {% if request.GET.brand == 'New Balance' %}selected{% endif %}>New Balance</option>
      <option value="Dunk" {% if request.GET.brand == 'Dunk' %}selected{% endif %}>Dunk</option>
      <option value="Jordan" {% if request.GET.brand == 'Jordan' %}selected{% endif %}>Jordan</option>
      <option value="Yeezy" {% if request.GET.brand == 'Yeezy' %}selected{% endif %}>Yeezy</option>
    </select>

    <!-- Sorting Dropdown -->
    <select name="sort_by" onchange="this.form.submit()">
      <option value="price" {% if request.GET.sort_by == 'price' %}selected{% endif %}>Price: Low to High</option>
      <option value="-price" {% if request.GET.sort_by == '-price' %}selected{% endif %}>Price: High to Low</option>
    </select>
  </form>
</div>
<h3 style="text-align:center; color:#3E454C;">No Search Found</h3>
{%endif%}

<script>
    {%if messages %}
    {%for message in messages%}
    alert('{{message}}');
    {%endfor%}
    {%endif%}
</script>
<br><br><br>
<br><br><br><br><br><br><br><br><br><br><br><br>



{% endblock %}
{% include 'ecom/footer.html' %}