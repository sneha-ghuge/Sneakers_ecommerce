<!DOCTYPE html>
{% load widget_tweaks %}
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>KICKCRAZE</title>

    <style media="screen">
      body {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
        /* background: linear-gradient(to right, #b92b27, #1565c0) */
      }

      .box {
        width: 100%;
        padding: 40px;
        position: absolute;
        top: 50%;
        left: 50%;
        background: #3E454C;
        text-align: center;
        transition: 0.25s;
        margin-top: 100px;
        border-radius: 50px;
      }

      .box input[type="text"],
      .box input[type="password"] {
        border: 0;
        background: none;
        display: block;
        margin: 20px auto;
        text-align: center;
        border: 2px solid #ffffff;
        padding: 10px 10px;
        width: 250px;
        outline: none;
        color: white;
        border-radius: 24px;
        transition: 0.25s
      }

      .box h1 {
        color: white;
        font-weight: 500
      }

      .box input[type="text"]:focus,
      .box input[type="password"]:focus {
        width: 300px;
        border-color: #d3d3d3
      }

      .box input[type="submit"] {
        border: 0;
        background: none;
        display: block;
        margin: 20px auto;
        text-align: center;
        border: 2px solid #2ecc71;
        padding: 14px 40px;
        outline: none;
        color: white;
        border-radius: 24px;
        transition: 0.25s;
        cursor: pointer
      }

      .box input[type="submit"]:hover {
        background: #2ecc71
      }

      .password-validation {
        color: red;
        font-size: 12px;
        text-align: center;
      }

      .valid {
        color: green;
      }

    </style>
  </head>
  <body>
    {% include "ecom/navbar.html" %}
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="card">
            <form class="box" method="post" enctype="multipart/form-data" onsubmit="return validatePassword()">
              {% csrf_token %}
              <h1>Customer Sign Up</h1>

              {% render_field userForm.first_name class="form-control" placeholder="First Name" %}
              {% render_field userForm.last_name class="form-control" placeholder="Last Name" %}
              {% render_field userForm.username class="form-control" placeholder="Username" %}
              {% render_field userForm.password id="password" class="form-control" placeholder="Password" %}
              
              <!-- Password validation message -->
              <span id="passwordValidationMessage" class="password-validation"></span>
              
              {% render_field customerForm.address class="form-control" placeholder="Address" %}
              {% render_field customerForm.mobile class="form-control" placeholder="Contact" %}
              {% render_field customerForm.profile_pic class="form-control" placeholder="Profile pic" %}

              <input type="submit" name="" value="Create">
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>
      function validatePassword() {
        const password = document.getElementById('password').value;
        const passwordValidationMessage = document.getElementById('passwordValidationMessage');

        const minLength = 8;
        const uppercasePattern = /[A-Z]/;
        const lowercasePattern = /[a-z]/;
        const numberPattern = /\d/;
        const specialCharPattern = /[!@#$%^&*(),.?":{}|<>]/;

        if (password.length < minLength) {
          passwordValidationMessage.textContent = "Password must be at least 8 characters.";
          return false;
        }
        if (!uppercasePattern.test(password)) {
          passwordValidationMessage.textContent = "Password must contain at least one uppercase letter.";
          return false;
        }
        if (!lowercasePattern.test(password)) {
          passwordValidationMessage.textContent = "Password must contain at least one lowercase letter.";
          return false;
        }
        if (!numberPattern.test(password)) {
          passwordValidationMessage.textContent = "Password must contain at least one number.";
          return false;
        }
        if (!specialCharPattern.test(password)) {
          passwordValidationMessage.textContent = "Password must contain at least one special character.";
          return false;
        }

        // If all conditions are met, show success message and submit form
        passwordValidationMessage.textContent = "Password is valid!";
        passwordValidationMessage.classList.add("valid");
        return true;
      }

      // Real-time password validation
      document.getElementById('password').addEventListener('input', validatePassword);
    </script>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br>
    

    {% include "ecom/footer.html" %}
  </body>
</html>


